---
layout: post
title: "보안 기초 개념"
author: "한결"
categories: blog
---


### 인증시스템

인증을 하고자 하는 주제Subject 에 대해 식별Identification 하고, 이에 대한 인증Authentication 서비스를 제공하는 시스템이다.

* 지식
  * 사용자가 알고있는 정보를 통해 인증
  * 가장 기본적이고 전통적 수단 (아이디&패스워드)
  * 해킹에 취약함
* 생체
  * 지문
  * 손 모양
  * 망막
  * 홍채
  * 서명
  * 목소리
  * 얼굴
* 소유
  * 스마트키 / 카드
  * 신분증
  * OTP
  * 공인인증서
* 위치정보
  * 사용자의 IP주소
  * 콜백 : 전화로 서비스 요청시 통화 종료 후 걸려온 번호로 재다이얼하여 전화번호가 유효한지 확인함



* SSO Single Sign On
  * 가장 기본적인 인증시스템으로 모든 인증이 하나의 시스템에서 이루어지면 다른 시스템에 대한 접근 권한도 모두 얻는 방식이다.
  * 커버로스를 이용한 윈도우 액티브 디렉터리 Active Directory가 대표적 
  * 단점 
    * Single Point of Failure : 최초 인증 과정을 통과하면 모든 서버, 사이트에 접속이 가능하기 때문에 취약하다. 중요 정보에 대한 접근 및 동작 시 지속적인 인증으로 보완하고 있다.
  * 커버로스 Kerberos
    * 머리 세 개 달린 개로 각각 클라이언트 - 서버 - SSO 





### 방화벽

내부를 보호하는 벽. 신뢰하지 않는 외부 네트워크와 신뢰하는 내부 네트워크 사이를 지나는 패킷을 미리 정한 규칙에 따라 차단하거나 보내주는 기능을 하는 하드웨어나 소프트 웨어를 지칭함. 보안에서 방화벽은 가장 기본적인 솔루션이다. 



* 접근제어 기능

  관리자는 방화벽에 통과시킬 접근과 거부할 접근을 명시한다.

  * 패킷 필터링 Packet Filtering 

  * 프록시 Proxy

  * 룰셋 Rule Set을 통해서 수행된다. 룰셋은 방화벽을 기준으로 네트워크의 외부(From)와 내부(To)에 존재하는 시스템들의 IP 와 포트 단위로 이루어진다.

    

  ![Screenshot from 2020-09-22 14-10-16](https://user-images.githubusercontent.com/69098825/93896947-7fa30580-fd2c-11ea-806c-6b9c838abd30.png)

  * 1번 룰셋 : 외부에서 접근하는 모든 시스템에게 192.168.100.100의 80번 포트에 대한 접근을 허용함.
  * 2번 룰셋 : 명백히 허용하지 않은 서비스에 대한 거부로 룰셋에 명시적으로 혀용되지 않은 것은 모두 차단함.



* 로깅과 감사추적 기능

  방화벽은 룰셋 설정과 변경, 관리자의 접근, 네트워크 트래픽의 허용 또는 차단과 관련한 사항을 로그로 남긴다.

  

* 인증 기능

  방화벽은 메시지 인증, 사용자 인증, 클라이언트 인증과 같은 방법을 사용한다.

  * 메시지 인증 : VPN과 같은 신뢰할 수 있는 통신을 통해 전송되는 메시지의 신뢰성을 보장한다.
  * 사용자 인증 : 패스워드를 통한 단순한 인증부터 OTP, 토큰 기반 인증 등 높은 수준의 인증까지 가능하다.
  * 클라이언트 인증 : 모바일 사용자처럼 특수한 경우에 접속을 요구하는 호스트를 정당한 접속 호스트인지 확인하는 방법.



* 데이터의 암호화

  방화벽에서 다른 방화벽으로 데이터를 암호화해서 전송하는 것. 보통 VPN 기능을 이용한다.





### IDS 침입 탐지 시스템 Intrusion Detection System

IDS는 네트워크에서 백신과 유사한 역할을 한다. 네트워크를 통한 공격을 탐지하기 위한 장비를 지칭한다. 

* 호스트 기반의 침입 탐지 시스템 HIDS (Host-Based Intrusion Detection System)
* 네트워크 기반의 침입 탐지 시스템 NIDS (Network-Based Intrusion Detection System)



* 데이터 수집 기능
  * HIDS 호스트기반
    * 윈도우나 유닉스 등의 운영체제에 부가적으로 설치되어 운용되거나 일반 클라이언트에 설치됨
    * 운영 체제에 설정된 사용자 계정에 따라 사용자, 접근, 작업에 대한 기록을 남기고 추적한다.
    * 네트워크에 대한 침입탐지 불가능.
    * 스스로가 공격대상이 될 때에만 침입을 탐지할 수 있다.
  * NIDS 네트워크 기반
    * 네트워크에서 하나의 독립된 시스템으로 운용된다.
    * 감사와 로깅을 할 때 네트워크 자원이 손실되거나 데이터가 변조되지 않는다.
    * HIDS는 불가능한 네트워크 전반에 대한 감시가 가능하며 감시영역이 상대적으로 매우 크다.





* 데이터의 필터링과 축약 기능

  침입 탐지 시스템은 데이터의 효과적인 필터링과 축약이 꼭 필요하다. 매우 방대한 데이터는 감시자를 지치게 하여 효과적인 대응을 막기 때문이다. Clipping Level으로 공격도를 표기한다.



* 침입 탐지 기능
  * 오용 탐지 기법 Signature Base나 Knowledge Base
    * 이미 발견되고 정립된 공격 패턴을 미리 입력해 두었다가 이에 해당하는 패턴이 탐지되면 알려준다.
    * 오판률이 낮으며 효율적이다.
    * 알려진 공격 외에는 탐지가 불가하며 대량의 데이터를 분석하는데는 부적합하다. 
    * 공격을 어떤 순서로 실시했는지 정보 얻기가 힘들다.
    * 전문가 시스템 Expert System 을 이용한 침입탐지 시스템도 이를 기반으로 한다.
  * 상태 전이 State Transition 기법
    * 각각의 공격상황에 대한 시나리오를 작성해두고 각각의 상태에 따른 공격을 분석한다.
    * 결과가 매우 직관적이나 세밀한 시나리오를 만드는 것이 매우 어렵다.
    * 추론 엔진이 들어가기 때문에 시스템에 부하를 준다.
  * 이상 탐지 기법 Behavior Detection or Statistical Detection
    * 정상적이고 평균적인 상태를 기준으로 상대적으로 급격한 변화나 확률이 낮은 사건 발생시 침입탐지를 알린다.
    * 정량적 분석
    * 통계적 분석
    * 비특성 통계 분석
    * 인공지능 침입 탐지 시스템 : 공격에 대해 인공지능이 판단하여 결정내려 알려줌. 판단의 근거가 불명확하며 오판률이 높다.
    * 면역 침입 탐지 시스템 : 공격을 학습하여 동일한 공격이 반복될 시 대응한다. 그러나 재설치시 최초상태로 돌아가 학습이 백지화 됨.
    * 인공지능/면역 침입 탐지 시스템 + 다른 침입 탐지 시스템 함께 사용됨
  * 책임 추적성 accountability 과 대응
    * 공격을 알리고 능동적인 대응을 하는 것을 침입 탐지 시스템이라고 봄.







### 침입 탐지 시스템의 설치 위치


![Screenshot from 2020-09-22 14-45-55](https://user-images.githubusercontent.com/69098825/93896767-4b2f4980-fd2c-11ea-9014-c874a7380bfc.png)


1. 패킷이 라우터로 들어오기 전
   * 네트워크에 실행되는 모든 공격 탐지.
   * 너무 많은 데이터
   * 침입 성공한 공격과 그렇지 않은 공격 구분이 어려움
   * 효율적 대응 어려움
2. 라우터 뒤
   * 라우터의 패킷 필터링을 거친 뒤 패킷을 검사
   * 더 강력한 공격 의지를 가진 1보다 더 적은 수의 공격자를 탐지 가능하다.
3. 방화벽 뒤
   * 방화벽 뒤에서 탐지되는 공격은 네트워크에 직접 영향을 준다.
   * 공격에 대한 정책과 방화벽의 연동성이 가장 중요하다.
   * 내부에서 외부로의 공격도 탐지가 가능한 위치이므로 내부의 공격자도 탐지가 가능하다.
4. 내부 네트워크
   * 내부 네트워크 해킹을 감시하고자 할 때
5. DMZ
   * 매우 뛰어난 외부 공격자와 내부 공격자에 의한 중요 데이터의 손실이나 서비스의 중단을 막기 위함이다.
   * 중요 데이터와 자원을 보호하기 위한 별도의 침입 탐지 시스템





### IDS 침입 방지 시스템 Intrusion Preventing System

* 침입 탐지 시스템 + 방화벽

* 칩입 탐지 기능을 수행하는 모듈이 패킷 하나하나를 검사하여 패턴을 분석한 뒤, 정상적인 패킷이 아니면 방화벽 기능을 가진 모듈로 이를 차단한다.
* 침입 방지 시스템 + 가상머신에서 악성코드 탐지 = 유해한 동작시 패킷 차단
* 방화벽 다음에 설치하여 방화벽에서 걸러진 패킷을 효율적으로 검사함







### VPN Virtual Private Network

* VPN은 방화벽, 침입 탐지 시스템과 함께 현재 사용되는 가장 일반적인 보안 솔루션 중 하나이다.

* 원격으로 내부 네트워크 사용이 가능하다.

  





### 출입 통제 및 모니터링 장비

* 감시카메라
* 엑스레이 검사기
* 금속탐지기
* 보안스티커





### NAC Network Access Control

* 과거 IP 관리 시스템에서 발전한 솔루션

* 기본적 개념은 IP 관리 시스템과 거의 같고, IP 관리 시스템에 네트워크에 대한 통제를 강화한 것이다.

* MAC 주소 기반으로 수행된다.

* NAC는 등록된 MAC 주소만 네트워크에 접속할 수 있게 허용한다.

  * 라우터로 구분된 서브 네트워크마다 에이전트 시스템이 설치되어 있어야 한다.

* NAC를 통한 사용자 인증

  ![Screenshot from 2020-09-22 15-27-08](https://user-images.githubusercontent.com/69098825/93896832-5edab000-fd2c-11ea-9517-97ad4644cbda.png)


  1. 네트워크 접근 요청
  2. 사용자 및 PC 인증 : NAC에 등록되어 있는 MAC 주소나 SSO와 연계하여 인증을 수행한다. 인증 과정에서 백신이나 보안 패치의 적절성 여부를 검토한다.
  3. 네트워크 접근 허용 : 인증이 완료된 경우 네트워크에 대한 접근을 허용한다.
  4. 네트워크 접근 거부 : 안전하지 않은 PC 는 접근이 거부되고 네트워크에서 격리된다. 격리된 PC는 필요한 정책 적용이나 치료 과정을 거쳐 다시 점검해야 한다.





### 보안 운영체제 Secure OS

운영체제에 내재된 결함에 의해 발생할 수 있는 각종 해킹에서 보호하기 위한 보안 기능이 통합된 보안 커널을 추가로 이식한 운영체제이다.





### 백신

* 시스템에 항상 상주하며 바이러스나 웜이 구동하면 실시간으로 제거한다.
* 바이러스, 웜, 악성코드 탐지 후 제거





### PC 방화벽

* PC 내부로 유입되는 패킬 뿐만 아니라 나가는 패킷까지 모두 차단한다. 
* 사용자에게 해당 네트워크 패킷의 적절성 여부를 확인한다.
* 취약점에 잘 노출되는 서비스는 기본으로 차단한다.
* 윈도우 방화벽
  * 인바운드 규칙 : 외부에서 내부로 들어오는 패킷에 대한 규칙
  * 아웃바운드 규칙 : 내부에서 외부로 나가는 패킷에 대한 규칙





### 스팸 필터 솔루션

* 메일 서버 앞단에 위치하여 프록시 메일 서버로 동작한다.
* SMTP 프로토콜을 이용한 DoS 공격이나 폭탄 메일, 스팸 메일을 차단한다.
* 바이러스를 체크한다.
* 내부에서 밖으로 전송되는 메일에 대해 본문 검색 기능을 실행하여 내부 정보 유출을 방지한다.
* 메일 헤더 필터링
  * 메일 헤더 기본 구성 : 보내는 사람 From, 받는 사람 To, 참조자 Cc, 숨은 참조자 Bcc
  * 메일 헤더의 내용 중에서 ID / 보내는 사람의 이름 / 도메인에 특정 내용이 포함되어 있는지를 검사한다.
  * 보낸 서버의 IP / 도메인 / 반송 주소 Reply-to 의 유효성과 이상 유무를 검사한다.
  * 메일 헤더의 받는 사람, 참조자, 숨은 참조자 필드에 너무 많은 수신자가 포함되어 있는지, 존재하지 않는 수신자가 포함되어 있는지도 검사한다.
* 제목 필터링
  * 메일 제목에 광고나 선정적인 문자열이 포함되어 있는지 검사한다.
  * 메일을 이용한 웜은 제목에 특정 문자열이 존재하는 경우가 많으며 일정 수 이상의 공백 문자열도 가지고 있다.
* 본문 필터링
  * 메일 본문에 특정 단어 혹은 특정 문자가 포함되어 있는지를 검사한다.
  * 메일 본문 크기와 메일 전체 크기를 비교하여 유효성을 검사한다.
* 첨부 파일 필터링
* 첨부된 파일의 이름 / 크기 / 개수 및 첨부파일 이름의 길이를 기준으로 필터링을 수행한다.
* 특정 확장자로만 제한하여 전송하도록 설정이 가능하다.
* 일반적으로 실행이 가능한 확장자(exe, com, dll, bat 등..)를 필터링한다.







### DRM Digital Right Management

* DRM은 문서 보안에 초점을 맞춘 기술이다.

* 문서 열람 / 편집 / 인쇄까지의 접근 권한을 설정하여 통제한다.

* DRM은 특정한 형태의 문서만 통제하는 것이 아니라 MS워드, HWP, TXT, PDF 파일 등 사무에 사용하는 대부분의 파일을 통제할 수 있다.

* 사내 운영체제의 커널에 DRM 모듈을 삽입하여 문서를 작성하고 저장할 때 이를 암호화 하여 기록한다. 저장된 파일을 읽을 때 문서를 읽고자 하는 이가 암호화된 문서를 읽을 자격이 있는지를 확인한 후 복호화하여 프로그램에 전달하여 읽기 권한을 부여받을 수 있다.

  ![Screenshot from 2020-09-22 15-48-46](https://user-images.githubusercontent.com/69098825/93896631-1a4f1480-fd2c-11ea-8d32-988ba51e4d4f.png)


* DRM 인증은 인증서를 이용하는 경우가 많다.

* 개인이 인증서를 발급받고 하나의 문서를 읽거나 편집할 때 인증서를 통해 권한을 확인받는다.

* 관리자는 각각의 인증서에 대해 권한을 설정함으로써 문서에 대한 접근 권한 설정이 가능하다.

* 첨단 지식 관련 산업이나 높은 보안성이 요구되는 정부 기관에서 사용한다.
